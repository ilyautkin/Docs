Компонент для реализации бэкенда бота в Telegram.

При установке компонент запросит Токен. Чтобы получить его, необходимо создать бота в Telegram (https://t.me/BotFather). После создания бота введите токен в соответствующее поле и завершите установку дополнения.

**Для работы дополнения требуется, чтобы на сайте был установлен HTTPS-сертификат!**

После установки отправьте боту сообщение `/start`. В ответ бот пришлёт список действий.

## Действия

На странице дополнения в админке доступно редактирование списка действий. Действие  это сниппет, который запускается при выборе пользователем соответствующего пункта меню.

Чтобы в ответ на выбор пользователя сообщить какую-либо информацию, сниппет должен вернуть строку текста. Она будет отправлена пользователю в виде сообщения:
```
<?php
return $modx->getChunk('about');
```

Отправлять сообщения можно не только в ответ на действия пользователя, но и просто из любого своего сниппета или плагина. Для этого нужно знать id чата с пользователем (или название канала):
```
<?php
// Подключаем службу
$telegrambot = $modx->getService('TelegramBot');

// Отправляем сообщение
$telegrambot->sendMessage('Уведомление', '@modx_channel_test');
```

## Пошаговые диалоги

В сниппете, связанном с действиями можно запрашивать ввод данных от пользователя:
```
<?php
$telegrambot = $modx->getService('TelegramBot');

// Проверяем, сообщил ли пользователь нам свой номер телефона
if (!$phone = $telegrambot->getUserInput('phone')) {
    // Если нет - запрашиваем ввод данных
    $telegrambot->sendMessage('Введите свой номер телефона');
    // И сохраняем их в соответствующей переменной
    $telegrambot->requestUserInput('phone');
    // Дальнейший код не выполняем, пока не будет получен номер
    return;
}

// ...
// Отправляем заявку, например, по e-mail
// ...

// Отправляем пользователю сообщение об успешной отправке
return 'Спасибо, мы перезвоним на номер ' . $phone;
```
